<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Update ChatBot AI | TanDev</title>
  <script type="module" src="https://unpkg.com/esp-web-tools@10.0.0/dist/web/install-button.js?module"></script>
  <link rel="stylesheet" href="/update.css" />
</head>

<body>
  <main class="wrap">
    <div class="card">
      <h1>Cập nhật ChatBot AI</h1>
      <p class="muted">Trang cập nhật firmware cho thiết bị Chatbot AI của TanDev — chỉ dành cho khách hàng đã mua sản
        phẩm.</p>

      <div class="controls">
        <button id="btnConnect" class="btn-primary">🔌 Kết nối</button>
        <button id="btnCheckUpdate" class="btn-secondary hidden">🔍 Kiểm tra cập nhật</button>
        <button id="btnFactoryReset" class="btn-secondary hidden">♻️ Khôi phục cài đặt gốc</button>
      </div>

      <div id="deviceInfo" class="result">Chưa kết nối.</div>

      <div id="versions" class="result hidden">
        <h3>Chọn phiên bản để cài đặt:</h3> <br>
        <div class="version-list" id="versionList"></div>
      </div>

      <div id="logCard" class="result hidden">
        <div id="log" class="log">
          <div id="logLines" class="log-lines"></div>
        </div>
      </div>

    </div>
  </main>

  <div id="detecting">
    <div class="box">
      <div class="spinner"></div>
      <div class="msg">Đang nhận diện chip…</div>
    </div>
  </div>
  
  <script src="/update.js"></script>
</body>

</html>